<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UKVI Skilled Worker Monitoring</title>

  <link rel="stylesheet" href="style.css" />
  <link type="text/css" rel="stylesheet" href="css/style.css"/>
</head>

<body>
  <!-- Top header bar (GOV.UK-like, but YOUR branding) -->
  <header class="app-header" role="banner">
    <div class="container app-header__inner">
      <div class="app-header__left">
        <span class="app-header__brand">GOV.UK</span>
      </div>
      <div class="app-header__center">Visas and Immigration</div>
      <div class="app-header__right">Worker- <strong>Archanabahen Shaileshbhai Patel</strong></div>
    </div>
  </header>

  <main class="container" role="main">
    <!-- Phase banner -->
    <div class="phase-banner" aria-label="Service status">
      <strong class="phase-banner__tag">BETA</strong>
      <span class="phase-banner__text">This is a new service.</span>
    </div>

    <!-- Service name banner (replaces step navigation) -->
    <section class="service-name" aria-label="Service name">
      <div class="service-name__box">
        <strong class="service-name__text">Skilled Worker Supervision Recording</strong>
      </div>
    </section>

    <!-- Back link -->
    <p class="back-link-wrap">
      <a class="back-link" href="#" onclick="history.back(); return false;">Back</a>
    </p>

    <h1>Your Supervision will be recorded live and submitted to the UKVI.</h1>

    <h2 class="section-heading">This is a LIVE Service.</h2>

    <!-- Amount summary (like GOV.UK table-ish style) -->
    <div class="summary">
      <div class="summary__row">
        <div class="summary__key">Archanabahen Shaileshbhai Patel - Skilled Worker</div>
        <div class="summary__value">Archanabahen Shaileshbhai Patel  Health & Care Worker Supervision 31 January 2026.</div>
      </div>

      <div class="summary__divider" role="presentation"></div>

      <div class="summary__row summary__row--total">
        <div class="summary__key">This Supervision meeting will be recorded live and submitted once completed. Please check your microphone and webcam settings. The camera feed should clearly show the management SMS Level 1 Figure and the Skilled Worker.</div>
        <div class="summary__value"></div>
      </div>
    </div>

    <!-- Warning box -->
    <div class="warning" role="note" aria-label="Before you continue">
      <div class="warning__icon" aria-hidden="true">!</div>
      <div class="warning__content">
        <h3 class="warning__title">Before you continue</h3>
        <p class="warning__text">
          Please note, This meeting is shared on a live platform with the Care Quality Commision and third party authorities concerned.
        </p>
        <p class="warning__text">
          Once you select ‘Submit Supervision’ you will not be able to return and edit your Supervision meeting.
        </p>
      </div>
    </div>

    <p class="body-text">
      Continue to the secure portal to upload your staff supervision. You will not have access to this meeting as the employer.
    </p>

    <div class="actions">

      <!-- Session recording notice (GOV.UK-ish panel) -->
      <div class="recording-panel" role="note" aria-label="Session recording notice">
        <div class="recording-panel__badge">
          <span class="recording-badge" aria-hidden="true">SESSION</span>
          <span class="recording-panel__title">Session recording enabled</span>
        </div>
        <p class="recording-panel__text">
          This session will be recorded for safeguarding, quality assurance and compliance purposes.
        </p>
      </div>

      <!-- Recording controls -->
      <div class="recording-controls" aria-label="Recording controls">
        <button
          type="button"
          id="recToggle"
          class="rec-toggle"
          aria-pressed="true"
          aria-label="Stop recording"
        >
          <span class="rec-dot" aria-hidden="true">
            <!-- Mic icon (inline SVG) -->
            <svg class="rec-mic" viewBox="0 0 24 24" role="img" aria-label="Microphone icon">
              <path d="M12 14a3 3 0 0 0 3-3V6a3 3 0 0 0-6 0v5a3 3 0 0 0 3 3Zm5-3a1 1 0 1 0-2 0 3 3 0 0 1-6 0 1 1 0 1 0-2 0 5 5 0 0 0 4 4.9V18H9a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-2v-2.1A5 5 0 0 0 17 11Z"/>
            </svg>
          </span>
          <span class="rec-toggle__text" id="recToggleText">Stop recording</span>
        </button>

        <div class="rec-status" aria-live="polite">
          <span class="rec-status__label" id="recStatusLabel">Recording</span>
          <span class="rec-status__sep" aria-hidden="true">•</span>
          <span class="rec-timer" id="recTimer">00:00</span>
        </div>
      </div>

      <!-- Continue button -->
      <a
        class="button"
        href="https://www.gov.uk/government/publications/workers-and-temporary-workers-guidance-for-sponsors-part-2-sponsor-a-worker/workers-and-temporary-workers-guidance-for-sponsors-part-2-sponsor-a-worker-general-information-accessible"
        target="_blank"
        rel="noopener noreferrer"
      >
        Submit Supervision
      </a>
    </div>

    <ul class="link-list">
      <li><a href="#">Return to this application later</a></li>
      <li><a href="#">Show and edit answers</a></li>
    </ul>
  </main>

  <!-- Footer -->
  <footer class="app-footer" role="contentinfo">
    <div class="container app-footer__inner">
      <div class="app-footer__links">
        <a href="#">Cookies</a>
        <a href="#">Terms and Conditions</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Accessibility</a>
        <a href="#">Contact</a>
      </div>

      <div class="app-footer__meta">
        <p class="app-footer__note">
          © All content is available under the Open Government Licence v3.0, except where otherwise stated
        </p>
      </div>
    </div>
  </footer>

  <script type="text/javascript" src="js/script.js"></script>

  <!-- Recording UI logic (toggle + timer) -->
  <script>
    (function () {
      const btn = document.getElementById("recToggle");
      const btnText = document.getElementById("recToggleText");
      const statusLabel = document.getElementById("recStatusLabel");
      const timerEl = document.getElementById("recTimer");

      let isRecording = true;   // default: active
      let startTime = Date.now();
      let elapsedMs = 0;
      let intervalId = null;

      function pad2(n) {
        return String(n).padStart(2, "0");
      }

      function formatTime(ms) {
        const totalSec = Math.floor(ms / 1000);
        const mm = Math.floor(totalSec / 60);
        const ss = totalSec % 60;
        return pad2(mm) + ":" + pad2(ss);
      }

      function render() {
        timerEl.textContent = formatTime(elapsedMs);
      }

      function tick() {
        elapsedMs = Date.now() - startTime;
        render();
      }

      function start() {
        isRecording = true;
        btn.classList.remove("rec-toggle--off");
        btn.setAttribute("aria-pressed", "true");
        btn.setAttribute("aria-label", "Stop recording");
        btnText.textContent = "Stop recording";
        statusLabel.textContent = "Recording";

        startTime = Date.now() - elapsedMs; // resume from elapsed
        intervalId = setInterval(tick, 250);
      }

      function stop() {
        isRecording = false;
        btn.classList.add("rec-toggle--off");
        btn.setAttribute("aria-pressed", "false");
        btn.setAttribute("aria-label", "Start recording");
        btnText.textContent = "Start recording";
        statusLabel.textContent = "Not recording";

        if (intervalId) clearInterval(intervalId);
        intervalId = null;
        render();
      }

      // Init timer running
      intervalId = setInterval(tick, 250);

      btn.addEventListener("click", function () {
        if (isRecording) {
          stop();
        } else {
          start();
        }
      });

      // initial paint
      render();
    })();
  </script>
</body>
</html>
